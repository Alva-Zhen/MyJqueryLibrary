<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"public_js_utils.js.html":{"id":"public_js_utils.js.html","title":"Source: public/js/utils.js","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Source: public/js/utils.js import cookie from 'react-cookie'; import '../plugin/count' /** * 截取URL参数 * @param {string} name 截取的key * @param {string} [url] 被截取的url * @returns {string} 截取的val */ let urlParam = (name, url) =&gt; { let reg = new RegExp(&quot;.*[&amp;?]&quot; + name + &quot;=([^&amp;]*)(&amp;|$)&quot;); let r; if (!url) { r = window.location.search.match(reg); } else { r = url.match(reg); } if (r) return decodeURIComponent(r[1]); return ''; }; /** * 跳转 * @param {string} address 跳转地址 */ let redirect = (address) =&gt; { window.location.href = address; }; /** * 登录后跳转 */ let loginReturnUrl = () =&gt; { window.location.href = 'loginReg.html?returnUrl=' + encodeURIComponent(window.location.href); }; /** * 统计中英文数量 * @param {string} str 统计的字符串 1个汉字 等于两个字母 * @returns {number} 统计的数量 */ let getBytesCount = (str) =&gt; { let bytesCount = 0; for (let i = 0; i &lt; str.length; i++) { let c = str.charAt(i); if (/^[\\u0000-\\u00ff]$/.test(c)) //匹配双字节 { bytesCount += 0.5; } else { bytesCount += 1; } } return bytesCount; }; /** * 截取长度 * @param {string} str 被截取的字符串 * @param {number} num 需要截取的长度 * @returns {string} 统计的数量 */ let txtIntercept = (str, num) =&gt; { if (getBytesCount(str) &gt; num) { return str.substring(0, num) + '...' } else { return str } }; /** * 判断是手机端还是电脑端 */ let isPhone = () =&gt; { if ((navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))) { return true; } else { return false; } }; /** * 验证身份证 * @param {string} str 传进来的字符串 */ let isCardId = (str) =&gt; { let reg = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/; if (reg.test(str)) { return true; } else { return false; } }; /** * 判断是否是手机号 * @param {string} val 传进来的字符串 */ let isMobile = (val) =&gt; { let reg = /^1[3|4|5|7|8][0-9]\\d{8}$/; return reg.test(val); }; /** * 判断价格是否合法 * @param {string} price 传进来的价格 */ let priceIsOk = (price) =&gt; { let reg = /(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\\.[0-9]([0-9])?$)/; if (reg.test(price)) { return true; } else { return false } }; /** * 页面title * @param {string/Array} arr 需要设置的标题 */ let documentTitle = (arr) =&gt; { let title = document.title; let str = ''; if (typeof arr === 'object') { str = arr.join('_'); } else { str = arr; } document.title = str + '_' + title; }; /** * 只能输入数字 替换后 光标在原来位置 * @param {object} e 传进来的字符串 */ let inputNum = (e) =&gt; { e.target.value.replace(/\\D/g, function (char, index, val) { e.target.value = val.replace(/\\D/g, &quot;&quot;); let rTextRange = null; if (e.target.setSelectionRange) { e.target.setSelectionRange(index, index); } else {//支持ie rTextRange = e.target.createTextRange(); rTextRange.moveStart('character', index); rTextRange.collapse(true); rTextRange.select(); } }); }; /** * 替换字符串中的URL * @param {string} str 传进来的字符串 */ let strURLReplace = (str) =&gt; { let strRegex = '((https|http)://)[A-Za-z0-9-_]+\\\\.[A-Za-z0-9-_%&amp;?/.=]+'; /*let strRegex = '((https|http)://)[A-Za-z0-9-_]+\\\\.[A-Za-z0-9-_%&amp;\\?\\/.=]+';*/ let regex = new RegExp(strRegex, &quot;gi&quot;); let replaceReg = (reg, str) =&gt; { return str.replace(reg, function (m) { return '&lt;a href=&quot;' + m + '&quot; target=&quot;_blank&quot;&gt;' + m + '&lt;/a&gt;'; }); }; str = replaceReg(regex, str); return str; }; /** * 星号生成 * @param {number} num 需要几个星号 */ let asterisk = (num) =&gt; { let returnVal = ''; for (let i = 0; i &lt; num; i++) { returnVal += '*' } return returnVal; }; /** * 转价格 * @param {string/object} num 价格 * @param {number} start 开始位置 */ let toFixedNumPriceOne = (num, start) =&gt; { let returnVal = '&lt;span class=&quot;no&quot;&gt;暂无报价&lt;/span&gt;'; let startStr = ''; if (start) { startStr = '&lt;b&gt;起&lt;/b&gt;'; } if (num) { returnVal = '&lt;i class=&quot;sub&quot;&gt;¥&lt;/i&gt;' + Math.abs(num.toFixed(2)) + startStr; } return returnVal; }; /** * 保留两位价格 * @param {string} num 价格 */ let toFixedNumPriceTwo = (num) =&gt; { if (num) { return '&lt;i class=&quot;sub&quot;&gt;¥&lt;/i&gt;' + Math.abs(num.toFixed(2)); } return '&lt;i class=&quot;sub&quot;&gt;¥&lt;/i&gt;' + 0; }; /** * 个人账户 * @param {number} x 价格 */ let toDecimal2 = (x) =&gt; { let f = parseFloat(x); if (isNaN(f)) { return false; } let f2 = Math.round(x * 100) / 100; let s = f2.toString(); let rs = s.indexOf('.'); if (rs &lt; 0) { rs = s.length; s += '.'; } while (s.length &lt;= rs + 2) { s += '0'; } return s; }; /** * 好评率 * @param {number} g 好评数量 * @param {number} m 中评数量 * @param {number} b 差评数量 */ let getGoodNum = (g, m, b) =&gt; { let total = g + m + b; if (Number(g) === 0) { return 0 + &quot;%&quot; } else { return ((g / total) * 100).toFixed(0) + &quot;%&quot; } }; /** * 几天前 * @param {string} now 当前时间戳 * @param {string} time 需要算的时间戳 */ let timeBefore = (now, time) =&gt; { let minute = 1000 * 60; let hour = minute * 60; let day = hour * 24; /*let halfamonth = day * 15;*/ let month = day * 30; let diffValue = now - time; if (diffValue &lt; 0) { //若日期不符则弹出窗口告之 //alert(&quot;结束日期不能小于开始日期！&quot;); } let monthC = diffValue / month; let weekC = diffValue / (7 * day); let dayC = diffValue / day; let hourC = diffValue / hour; let minC = diffValue / minute; let result = ''; /*下面的空字符串 是发表于 */ if (monthC &gt;= 1) { result = &quot;&quot; + parseInt(monthC, 10) + &quot;个月前&quot;; } else if (weekC &gt;= 1) { result = &quot;&quot; + parseInt(weekC, 10) + &quot;周前&quot;; } else if (dayC &gt;= 1) { result = &quot;&quot; + parseInt(dayC, 10) + &quot;天前&quot;; } else if (hourC &gt;= 1) { result = &quot;&quot; + parseInt(hourC, 10) + &quot;个小时前&quot;; } else if (minC &gt;= 1) { result = &quot;&quot; + parseInt(minC, 10) + &quot;分钟前&quot;; } else result = &quot;刚刚&quot;; return result; }; /** * 价格控制 * @param {object} e 格式化价格 */ let priceOnKeyUp = (e) =&gt; { let val = e.target; let regStr = [ ['^0(\\\\d+)$', '$1'], //禁止录入整数部分两位以上，但首位为0 ['[^\\\\d\\\\.]+$', ''], //禁止录入任何非数字和点 ['\\\\.(\\\\d?)\\\\.+', '.$1'], //禁止录入两个以上的点 ['^(\\\\d+\\\\.\\\\d{2}).+', '$1'] //禁止录入小数点后两位以上 ]; for (let i = 0; i &lt; regStr.length; i++) { let reg = new RegExp(regStr[i][0]); val.value = val.value.replace(reg, regStr[i][1]); } /*48 - 57 数字键 , 8删除键,37-40 上下左右键 , 13 回车键*/ /* let val = e.target; console.log(e.keyCode); let keyCode = Number(e.keyCode); if (keyCode &gt;= 48 || keyCode &lt;= 57 || keyCode === 8 || keyCode &gt;= 37 || keyCode &lt;= 40 || keyCode === 13){ }else{ }*/ }; /** * 价格表单离开 * @param {object} e 格式化价格 */ let priceOnBlur = (e) =&gt; { let th = e.target; let v = th.value; if (v === '') { v = '0.00'; } else if (v === '0') { v = '0.00'; } else if (v === '0.') { v = '0.00'; } else if (/^0+\\d+\\.?\\d*.*$/.test(v)) { v = v.replace(/^0+(\\d+\\.?\\d*).*$/, '$1'); //v = inp.getRightPriceFormat(v).val; } else if (/^0\\.\\d$/.test(v)) { v = v + '0'; } else if (!/^\\d+\\.\\d{2}$/.test(v)) { if (/^\\d+\\.\\d{2}.+/.test(v)) { v = v.replace(/^(\\d+\\.\\d{2}).*$/, '$1'); } else if (/^\\d+$/.test(v)) { v = v + '.00'; } else if (/^\\d+\\.$/.test(v)) { v = v + '00'; } else if (/^\\d+\\.\\d$/.test(v)) { v = v + '0'; } else if (/^[^\\d]+\\d+\\.?\\d*$/.test(v)) { v = v.replace(/^[^\\d]+(\\d+\\.?\\d*)$/, '$1'); } else if (/\\d+/.test(v)) { v = v.replace(/^[^\\d]*(\\d+\\.?\\d*).*$/, '$1'); //ty = false; } else if (/^0+\\d+\\.?\\d*$/.test(v)) { v = v.replace(/^0+(\\d+\\.?\\d*)$/, '$1'); //ty = false; } else { v = '0.00'; } } th.value = v; }; /** * 价格转成 分 * @param {string/number} val 格式化价格 */ let priceCents = (val) =&gt; { if ((val === 0 || val === '0.00' || val !== '') &amp;&amp; val !== undefined) { return val * 100 } else { return ''; } }; let priceDollars = (val) =&gt; { if ((val === 0 || val === '0.00' || val !== '') &amp;&amp; val !== undefined) { return (val / 100).toFixed(2) } else { return '' } }; let parent = window.parent; parent.imgSrc = {}; /** * 防盗链iframe * @param {string} url 传进去url * @param {string} width 宽度 * @param {string} height 高度 * @param {string} key 可变ID */ let showImg = (url, width, height, key) =&gt; { let id = 'imgIfr' + key; parent.imgSrc[id] = '&lt;img src=\\'' + url + '\\' style=&quot;width:100%;height:100%; display:block;position:absolute;left:0;top:0;&quot;/&gt;'; return '&lt;iframe src=&quot;javascript:parent.imgSrc[\\'' + id + '\\'];&quot; frameBorder=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;width:' + width + ';height:' + height + ';overflow: hidden;&quot;&gt;&lt;/iframe&gt;'; }; /** * 批量删除cookie * @param {Array} nameArray 被删除的cookie 名称 数组 * @param {object} opt 被删除的cookie 参数 */ let cookieDel = (nameArray, opt) =&gt; { nameArray.map((data) =&gt; { cookie.remove(data, opt); return false }) }; /** * Base64-&gt;Blob * @param {Object} dataUrl Base64 图片数据 * @returns {string} 返回Blob图片地址 */ let dataURLtoBlob = (dataUrl) =&gt; { let arr = dataUrl.split(','), mime = arr[0].match(/:(.*?);/)[1], bsTr = atob(arr[1]), n = bsTr.length, u8arr = new Uint8Array(n); while (n--) { u8arr[n] = bsTr.charCodeAt(n); } return new Blob([u8arr], {type: mime}); }; /** * html -&gt; txt * @param {string} str html字符串 * @returns {string} 返回纯文本 */ let delHtmlTag = (str) =&gt; { return str.replace(/&lt;[^&gt;]+&gt;/g, &quot;&quot;);//去掉所有的html标记 }; /** * 获取分页数值 pageOn */ let getPageOn = () =&gt; { return Number(window.location.href.substring(window.location.href.indexOf('pageOn=') + 7, window.location.href.length) || 0) }; export default { &quot;urlParam&quot;: urlParam, &quot;redirect&quot;: redirect, &quot;loginReturnUrl&quot;: loginReturnUrl, &quot;getBytesCount&quot;: getBytesCount, &quot;txtIntercept&quot;: txtIntercept, &quot;isPhone&quot;: isPhone, &quot;isCardId&quot;: isCardId, &quot;isMobile&quot;: isMobile, &quot;priceIsOk&quot;: priceIsOk, &quot;documentTitle&quot;: documentTitle, &quot;inputNum&quot;: inputNum, &quot;asterisk&quot;: asterisk, &quot;toFixedNumPriceOne&quot;: toFixedNumPriceOne, &quot;toFixedNumPriceTwo&quot;: toFixedNumPriceTwo, &quot;strURLReplace&quot;: strURLReplace, &quot;toDecimal2&quot;: toDecimal2, &quot;getGoodNum&quot;: getGoodNum, &quot;timeBefore&quot;: timeBefore, &quot;priceOnKeyUp&quot;: priceOnKeyUp, &quot;priceOnBlur&quot;: priceOnBlur, &quot;priceCents&quot;: priceCents, &quot;priceDollars&quot;: priceDollars, &quot;cookieDel&quot;: cookieDel, &quot;showImg&quot;: showImg, &quot;dataURLtoBlob&quot;: dataURLtoBlob, &quot;delHtmlTag&quot;: delHtmlTag, &quot;getPageOn&quot;: getPageOn } × Search results Close "},"component_common_public_DefaultImage.jsx.html":{"id":"component_common_public_DefaultImage.jsx.html","title":"Source: component/common/public/DefaultImage.jsx","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Source: component/common/public/DefaultImage.jsx /** * Created by Kirk liu on 2017/7/19. */ import React from 'react'; /** * DefaultImage 组件,统一处理图片加滚动加载 * @param {string} src - 图片地址. * @param {string} alt - 图片描述. * @param {string} DefaultImageClassName - 图片className css样式名称. * @desc 头像图片处理 * @example &lt;DefaultImage src={serviceInfoImg} alt={serviceInfo.serviceName} DefaultImageClassName=&quot;ico-default-user&quot;/&gt; */ class DefaultImage extends React.Component { constructor(props) { super(props); this.state = { onLoad: false, show: false, marginTop: '' }; this.handleScroll = this.handleScroll.bind(this) } handleScroll() { let DefaultImage_offsetTop = this.refs.DefaultImage.offsetTop; let clientHeight = document.documentElement.clientHeight; let t = document.documentElement.scrollTop || document.body.scrollTop; if ((clientHeight + t) &gt;= DefaultImage_offsetTop) { this.setState({onLoad: true}); } } componentDidMount() { let DefaultImage_offsetTop = this.refs.DefaultImage.offsetTop; let clientHeight = document.documentElement.clientHeight; if (clientHeight &gt;= DefaultImage_offsetTop) { this.setState({onLoad: true}) } else { window.addEventListener('scroll', this.handleScroll, false) } } componentWillUnmount() { window.removeEventListener('scroll', this.handleScroll, false) } render() { let {src, alt, DefaultImageClassName, size} = this.props; let {onLoad, show, marginTop} = this.state; return ( &lt;div className=&quot;ico-default-imgParent&quot; ref=&quot;DefaultImage&quot;&gt; { !show &amp;&amp; &lt;i className={&quot;ico-default-img ico-default-img-size&quot; + (size || 100) + &quot; &quot; + DefaultImageClassName} title={alt}/&gt; } { onLoad ? &lt;img src={src} alt={alt} style={{marginTop: marginTop}} className={show ? &quot;&quot; : &quot;none&quot;} onLoad={(e) =&gt; { /*img 宽高*/ let target = e.target; let imgWidth = target.width; let imgHeight = target.height; /*img 父元素 宽高*/ let parentNode = target.parentNode; let parentWidth = parentNode.offsetWidth; let parentHeight = parentNode.offsetHeight; /*如果计算得出的高度 超过父级 则 减去父级 除以 2*/ let newHeight = imgHeight * parentWidth / imgWidth; let marginTopDiff = newHeight - parentHeight; let marginTop = marginTopDiff / 2; this.setState({show: true, marginTop: -marginTop}); }} onError={() =&gt; { }} /&gt; : null } &lt;/div&gt; ); } } export default DefaultImage; × Search results Close "},"component_common_public_DropDown.jsx.html":{"id":"component_common_public_DropDown.jsx.html","title":"Source: component/common/public/DropDown.jsx","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Source: component/common/public/DropDown.jsx /** * Created by Kirk liu on 2017/11/20. */ import React from 'react'; import IcoArrow from './IcoArrow'; /** * DropDown 下拉组件 * @param {string} title - 组件文字描述. * @param {Object} data - 传入数据. * @param {number} data.id - 数字id . * @param {Array} data.select - 选择item . * @param {fun} onclick - 回调 . * @desc 下拉组件 * @example &lt;DropDown title=&quot;发布状态&quot; data={state.searchTypeList} onclick={(id) =&gt; { let searchTypeList = state.searchTypeList; searchTypeList.id = id; this.setState({ searchTypeList, start: 0, }, () =&gt; { this.getMyServiceList() }) }} /&gt; */ class DropDown extends React.Component { constructor(props) { super(props); this.state = { title: props.title, size: props.size, select: props.data.select, id: props.data.id, show: false }; this.selectClick = this.selectClick.bind(this) } selectClick(id) { this.setState({id}, () =&gt; { this.props.onclick(id) }) } componentWillReceiveProps(props) { this.setState({id: props.data.id}); } componentDidMount() { } render() { let {select, id, show, title, size} = this.state; return ( &lt;div className=&quot;dropDown fl&quot;&gt; &lt;span className=&quot;fl&quot;&gt;{title}：&lt;/span&gt; &lt;div className=&quot;select fl&quot; style={{width: size.width}} onMouseEnter={() =&gt; this.setState({show: true})} onMouseLeave={() =&gt; this.setState({show: false})} &gt; &lt;span className=&quot;fl&quot;&gt;{select.find(data =&gt; data.id === id).name}&lt;/span&gt; &lt;span className=&quot;fr&quot;&gt;&lt;IcoArrow show={show}/&gt;&lt;/span&gt; { show ? &lt;div className=&quot;down&quot;&gt; { select.map(data =&gt; &lt;li key={data.id} title={data.name} onClick={() =&gt; this.selectClick(data.id)}&gt;{data.name}&lt;/li&gt;) } &lt;/div&gt; : null } &lt;/div&gt; &lt;/div&gt; ); } } export default DropDown; × Search results Close "},"component_common_public_IcoArrow.jsx.html":{"id":"component_common_public_IcoArrow.jsx.html","title":"Source: component/common/public/IcoArrow.jsx","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Source: component/common/public/IcoArrow.jsx /** * Created by Kirk liu on 2017/7/19. */ import React from 'react'; /** * IcoArrow 组件,鼠标滑过倒三角小图片 * @constructor * @param {Object} props - 组件属性. * @param {boolean} props.show - false 向下,true向上 * @param {string} [props.className] - 是否有指定样式 * @param {string} [props.classNameOn] - 是否是主题色 * @desc 倒三角 * @example &lt;IcoArrow show={Boolean} className=&quot;string&quot; classNameOn=&quot;string&quot;/&gt; */ const IcoArrow = (props) =&gt; &lt;i className={ (props.className || (props.show ? props.classNameOn ? props.classNameOn : &quot;ico-arrow-down on &quot; : &quot;ico-arrow-down on &quot;)) + (props.show ? &quot; rotate-anti-clockwise-180&quot; : &quot;rotate-clockwise-180&quot;)} /&gt;; export default IcoArrow; × Search results Close "},"component_common_public_ImageCrop.jsx.html":{"id":"component_common_public_ImageCrop.jsx.html","title":"Source: component/common/public/ImageCrop.jsx","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Source: component/common/public/ImageCrop.jsx /** * Created by Kirk liu on 2017/11/1. */ import React from 'react'; import Cropper from 'react-cropper'; import LayerModalHOC from '../layer/LayerModalHOC'; import '../../../public/css/componentCss/ImageCrop.pcss'; import layer from &quot;../../../public/js/layer&quot;; import utils from &quot;../../../public/js/utils&quot;; /** * ImageCrop 图片裁剪 * @param {string} ref - 组件唯一标识,用于执行组件show(). * @param {string} imgData - 图片地址. * @param {string} api - 上传接口. * @param {Object} [data] - 上传接口的其他参数. * @param {string} [data.type] - 类型. * @param {Object} size - 图片大小限制. * @param {number} size.num - 大小. * @param {string} size.text - 提示文字. * @param {function} uploadPic - 图片上传方法,再组件写好回调. * @desc 图片裁剪 * @example &lt;ImageCrop ref=&quot;ImageCrop&quot; imgData={state.userImage} api={apiManager.uploadPortrait} data={{type: 1}} size={{num: 1000 * 1000, text: '1M'}} uploadPic={this.uploadPic.bind(this)} /&gt; */ @LayerModalHOC('图片裁剪') class ImageCrop extends React.Component { constructor(props) { super(props); this.state = { imgData: this.props.imgData, imgDataNew: '', }; } _crop() { setTimeout(() =&gt; { let imgDataNew = this.refs.cropper.getCroppedCanvas().toDataURL(); this.setState({imgDataNew: imgDataNew}); }, 100) } uploadPic() { let imgDataNew = this.state.imgDataNew; let blob = utils.dataURLtoBlob(imgDataNew); /*新建提交表单*/ let fd = new FormData(); fd.append(&quot;file&quot;, blob);// 文件名称 &quot;image.png&quot; /*如果有其他参数*/ let postData = this.props.data; if (postData) { for (let keys in postData) { fd.append(keys, postData[keys]); } } /*建立 AJAX 请求*/ layer.loading.open(); let xhr = new XMLHttpRequest(); xhr.open('POST', this.props.api, true); xhr.onreadystatechange = (responseData) =&gt; { if (xhr.readyState === 4) { layer.loading.close(); if (xhr.status === 200) { let data = JSON.parse(responseData.currentTarget.response); if (data.code === 0) { layer.msg('上传成功', () =&gt; this.props.show()); setTimeout(() =&gt; this.props.uploadPic(data.data.url), 1000) } else { layer.msg(data.message) } } else { layer.msg('上传失败f'); } } }; xhr.send(fd); } componentDidMount() { } render() { let state = this.state, {imgData, imgDataNew} = state; return ( &lt;div className=&quot;imageCrop&quot;&gt; &lt;div className=&quot;left fl&quot;&gt; { imgData ? &lt;Cropper ref='cropper' src={imgData} style={{width: 600, height: 450}} aspectRatio={1} guides={true} crop={this._crop.bind(this)}/&gt; : null } &lt;/div&gt; &lt;div className=&quot;right fr&quot;&gt; &lt;span&gt;效果预览&lt;/span&gt; &lt;div className=&quot;pic01&quot;&gt; {imgDataNew &amp;&amp; &lt;img src={imgDataNew} alt=&quot;效果预览01&quot;/&gt;} &lt;/div&gt; &lt;div className=&quot;pic02&quot;&gt; {imgDataNew &amp;&amp; &lt;img src={imgDataNew} alt=&quot;效果预览02&quot;/&gt;} &lt;/div&gt; &lt;div className=&quot;pic03&quot;&gt; {imgDataNew &amp;&amp; &lt;img src={imgDataNew} alt=&quot;效果预览03&quot;/&gt;} &lt;/div&gt; &lt;button className=&quot;theme-button-noBg&quot; onClick={this.uploadPic.bind(this)}&gt;上传图片&lt;/button&gt; &lt;input type=&quot;file&quot; className=&quot;file&quot; onChange={(e) =&gt; { let files = e.target.files[0], {size, type} = files; if (type.indexOf('image') === -1) { layer.msg('请选择图片类型'); return } if (size &gt; this.props.size.num) { layer.msg('图片大小不能大于' + this.props.size.text); return } let reader = new FileReader(); reader.onload = (e) =&gt; { this.setState({imgDataNew: e.target.result, imgData: e.target.result}) }; reader.readAsDataURL(e.target.files[0]); }}/&gt; &lt;button className=&quot;theme-button&quot; onClick={this.uploadPic.bind(this)}&gt;保存图片&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; ); } } export default ImageCrop; × Search results Close "},"public_js_layer.js.html":{"id":"public_js_layer.js.html","title":"Source: public/js/layer.js","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Source: public/js/layer.js import $ from 'jquery' /** * 加载提示 * */ const loading = { /** * 打开 * */ open: () =&gt; { if ($('#layerLoading').length === 0) { $('body').append('&lt;div id=&quot;layerLoading&quot; class=&quot;layer&quot;&gt;&lt;div class=&quot;layerMask&quot;&gt;&lt;/div&gt;&lt;i class=&quot;ico-loading&quot;&gt;&lt;/i&gt;&lt;/div&gt;') } }, /** * 关闭 * */ close: () =&gt; { $('#layerLoading').remove() } }; /** * 消息框 * */ const msg = (str, cb, time) =&gt; { if (!str) { str = '出了点小问题，请稍后重试'; } $('#layerMsg').remove(); $('body').append('&lt;i id=&quot;layerMsg&quot; class=&quot;layerMsg layer-animation layer-animation-00&quot;&gt;' + str + '&lt;/i&gt;'); let $msg = $('#layerMsg') $msg.css({'margin-left': 0 - $msg.width() / 2}); setTimeout(function () { $msg.remove(); if (cb) { cb(); } }, time || 2000) }; export default { &quot;loading&quot;: loading, &quot;msg&quot;: msg }; × Search results Close "},"component_common_public_Page.jsx.html":{"id":"component_common_public_Page.jsx.html","title":"Source: component/common/public/Page.jsx","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Source: component/common/public/Page.jsx /** * Created by Kirk liu on 2017/8/3. */ import React from &quot;react&quot;; /** * Page 分页组件 * @param {number} totalNum - 总条数. * @param {number} pageSize - 每页显示几条数据. * @param {number} start - 开始数. * @param {function} onPageClick - 分页方法(父组件中写好). * @desc 分页组件 * @example { state.totalNum &gt; state.pageSize ? &lt;Page totalNum={state.totalNum} pageSize={state.pageSize} start={state.start} onPageClick={this.onPageClick.bind(this)}/&gt; : null } */ class Page extends React.Component { /* componentDidUpdate(props) { let currentPage = (props.start / props.pageSize) + 1; let hash = window.location.hash; let pageOnPrefix; if (hash.indexOf('?') === -1) { pageOnPrefix = '?'; } else { pageOnPrefix = '&amp;'; } let pageOnNameSource = 'pageOn='; let pageOnName = pageOnPrefix + pageOnNameSource; if (hash.indexOf(pageOnNameSource) === -1) { window.location.hash = hash + pageOnName + currentPage } else { let pageOn = Number(hash.substring(hash.indexOf(pageOnName) + pageOnName.length, hash.length)); if (pageOn !== currentPage) { window.location.hash = hash.substring(0, hash.indexOf(pageOnNameSource)) + pageOnNameSource + currentPage } } }*/ /* componentDidMount(){ window.addEventListener(&quot;popstate&quot;, function(e) { console.log(e); //alert(&quot;我监听到了浏览器的返回按钮事件啦&quot;);//根据自己的需求实现自己的功能 }, false); }*/ render() { let props = this.props; let onPageClick = props.onPageClick; let pageSize = props.pageSize; let totalNum = props.totalNum; let tempList = []; let currentPage = (props.start / props.pageSize) + 1; let pageCount = Math.ceil(totalNum / pageSize); let startEllipses = false, endEllipses = false; if (pageCount &lt;= 11) { for (let i = 2; i &lt; pageCount; i++) { tempList.push(i) } } else { let start = currentPage - 4; let end = currentPage + 4; if (currentPage - 4 &lt;= 1) { start = 2; end = start + 8; } if (currentPage + 4 &gt;= pageCount) { end = pageCount - 1; start = end - 8; } if (start &gt; 2) { startEllipses = true } else { startEllipses = false } if (end &lt; pageCount - 1) { endEllipses = true } else { endEllipses = false } for (let i = start; i &lt;= end; i++) { tempList.push(i) } } return ( &lt;div className=&quot;page&quot;&gt; &lt;div className=&quot;pageContent&quot;&gt; &lt;ul className=&quot;fl&quot;&gt; { currentPage === 1 ? &lt;span className=&quot;PrevNextNo&quot;&gt;上一页&lt;/span&gt; : &lt;span onClick={() =&gt; { onPageClick((currentPage - 2) * pageSize); }}&gt;上一页&lt;/span&gt; } &lt;div className=&quot;fl&quot;&gt; &lt;span className={currentPage === 1 ? &quot;on&quot; : null} onClick={() =&gt; { onPageClick(0); }} &gt;1&lt;/span&gt; { startEllipses ? &lt;span className=&quot;fl ellipsis&quot;&gt;...&lt;/span&gt; : null } { tempList ? tempList.map((tempItem, index) =&gt; { return ( &lt;span key={index} onClick={() =&gt; { onPageClick((tempItem - 1) * pageSize); }} className={currentPage === tempItem ? &quot;on&quot; : null} &gt;{tempItem}&lt;/span&gt; ) }) : null } { endEllipses ? &lt;span className=&quot;fl ellipsis&quot;&gt;...&lt;/span&gt; : null } &lt;span className={currentPage === pageCount ? &quot;on&quot; : null} onClick={() =&gt; { onPageClick((pageCount - 1) * pageSize); }} &gt;{pageCount}&lt;/span&gt; &lt;/div&gt; { currentPage === pageCount ? &lt;span className=&quot;PrevNextNo&quot;&gt;下一页&lt;/span&gt; : &lt;span onClick={() =&gt; { onPageClick(currentPage * pageSize); }}&gt;下一页&lt;/span&gt; } &lt;/ul&gt; &lt;div className=&quot;jumpPage fl&quot;&gt; &lt;div className=&quot;fl&quot;&gt; 共{pageCount}页,到第 &lt;input className=&quot;currentPage&quot; id=&quot;pageGo&quot; defaultValue={currentPage} onChange={(e) =&gt; { if (Number(e.target.value) &gt; pageCount) { e.target.value = pageCount } }} /&gt; 页 &lt;/div&gt; &lt;a className=&quot;fl redirectBtn&quot; onClick={() =&gt; { onPageClick((Number(document.getElementById('pageGo').value) - 1) * pageSize); }}&gt;跳转&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; ) } } export default Page; × Search results Close "},"component_common_public_PriceFormat.jsx.html":{"id":"component_common_public_PriceFormat.jsx.html","title":"Source: component/common/public/PriceFormat.jsx","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Source: component/common/public/PriceFormat.jsx /** * Created by Kirk liu on 2017/8/3. */ import React from 'react'; import utils from '../../../public/js/utils'; /** * PriceFormat 价格统一处理组件 * @constructor * @param {object} props - 组件属性. * @param {object} props.data - 组件属性传递过来的对象. * @param {number} props.data.type - 价格类型1 可议价,2 ¥1.40万元起 or ¥2.00元－¥10.00元,3 ¥2.00元. * @param {number} props.data.minPrice - 最小价格. * @param {number} props.data.maxPrice - 最大价格. * @param {string} props.data.position - 组件放置位置&quot;list&quot;列表页 显示如 ¥1.40万元起,&quot;detail&quot;详情页 显示如 ¥2.00元－¥10.00元 . * @desc 价格 * @example &lt;PriceFormat data={{ type:prepayType, min:minPrice, max:maxPrice, position:'detail' }}/&gt; 示列:生成后的元素对照表 &lt;span class=&quot;prefix&quot;&gt;¥&lt;/span&gt; &lt;span class=&quot;dollars&quot;&gt;元&lt;/span&gt; &lt;span class=&quot;tenThousand&quot;&gt;万&lt;/span&gt; &lt;span class=&quot;rise&quot;&gt;起&lt;/span&gt; */ const PriceFormat = (props) =&gt; { let data = props.data; let type = data.type; let html = ''; let min = ''; let max = ''; if (data.position === 'list') { min = data.min &gt; 1000000 ? (data.min / 1000000).toFixed(2) + '&lt;span class=&quot;tenThousand&quot;&gt;万&lt;/span&gt;' : utils.priceDollars(data.min); max = data.min &gt; 1000000 ? (data.max / 1000000).toFixed(2) + '&lt;span class=&quot;tenThousand&quot;&gt;万&lt;/span&gt;' : utils.priceDollars(data.max); } if (data.position === 'detail') { min = utils.priceDollars(data.min); max = utils.priceDollars(data.max); } switch (type) { case 1: html = '可议价'; break; case 2: let htmlMin = '&lt;span class=&quot;prefix&quot;&gt;¥&lt;/span&gt;' + min + '&lt;span class=&quot;priceDollars&quot;&gt;&lt;/span&gt;'; if (data.position === 'list') { html = htmlMin + '&lt;span class=&quot;rise&quot;&gt;起&lt;/span&gt;'; } if (data.position === 'detail') { html = htmlMin + '－' + '&lt;span class=&quot;prefix&quot;&gt;¥&lt;/span&gt;' + max + '&lt;span class=&quot;priceDollars&quot;&gt;&lt;/span&gt;'; } break; case 3: html = '&lt;span class=&quot;prefix&quot;&gt;¥&lt;/span&gt;' + max + '&lt;span class=&quot;priceDollars&quot;&gt;&lt;/span&gt;'; break; default: break; } return ( &lt;span className=&quot;priceFormat theme-color&quot; dangerouslySetInnerHTML={{__html: html}}/&gt; ); }; export default PriceFormat; × Search results Close "},"component_common_public_Slide.jsx.html":{"id":"component_common_public_Slide.jsx.html","title":"Source: component/common/public/Slide.jsx","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Source: component/common/public/Slide.jsx /** * Created by Kirk liu on 2017/10/15. */ import React from 'react'; /** * Slide 轮播图 * @param {object} data - 图片对象. * @param {number} data.width - 宽度. * @param {number} data.height - 高度. * @param {Array} data.img - 图片数组. * @param {number} data.time - 切换时间. * @desc 轮播图 * @example &lt;Slide data={{ width: 653, height: 422, img: this.state.bannerImg, time: 5000, }} /&gt; */ class Slide extends React.Component { constructor(props) { super(props); this.state = { img: props.data.img || '', currImgIndex: 1, arrow: false }; } handleTime() { this.interval = setInterval(() =&gt; { let state = this.state, img = state.img, imgLength = img.length, currImgIndex = state.currImgIndex; if (currImgIndex &lt; imgLength) { this.setState({currImgIndex: currImgIndex + 1}) } else { this.setState({currImgIndex: 1}) } }, this.props.data.time) } handleArrowFun(type) { let state = this.state, currImgIndex = state.currImgIndex, imgLength = state.img.length; if (type) { if (currImgIndex === imgLength) { this.setState({currImgIndex: 1}) } else { this.setState({currImgIndex: currImgIndex + 1}) } } else { if (currImgIndex === 1) { this.setState({currImgIndex: imgLength}) } else { this.setState({currImgIndex: currImgIndex - 1}) } } } componentDidMount() { if (this.state.img.length &gt; 1) { this.handleTime() } } componentWillUnmount() { this.interval &amp;&amp; clearInterval(this.interval); } render() { let state = this.state, img = state.img, currImgIndex = state.currImgIndex; return ( &lt;div&gt; { img ? &lt;div className=&quot;common_slide&quot; style={{width: this.props.data.width, height: this.props.data.height}} onMouseEnter={() =&gt; { this.setState({arrow: true}) }} onMouseLeave={() =&gt; { this.setState({arrow: false}) }} &gt; { img.map((data, index) =&gt; { return ( &lt;a href={data.source} key={index} target=&quot;_blank&quot;&gt; &lt;img className={(currImgIndex === index + 1) ? &quot;animation_slide_fade_image&quot; : &quot;none&quot;} src={data.img} alt=&quot;&quot;/&gt; &lt;/a&gt; ) }) } { img.length &gt; 1 ? &lt;div className=&quot;buttonDiv&quot;&gt; &lt;div className=&quot;button&quot; style={{width: img.length * 24 + 32}}&gt; { img.map((data, index) =&gt; { return &lt;button key={index} className={(currImgIndex === index + 1) ? &quot;on&quot; : &quot;&quot;} onMouseEnter={() =&gt; { this.setState({currImgIndex: index + 1}) }} &gt; {/* {index + 1}*/}&lt;/button&gt; }) } &lt;/div&gt; &lt;/div&gt; : null } { state.arrow &amp;&amp; img.length &gt; 1 ? &lt;div className=&quot;arrow&quot;&gt; &lt;i className=&quot;ico-slide-arrow-left&quot; onClick={this.handleArrowFun.bind(this, 0)}/&gt; &lt;i className=&quot;ico-slide-arrow-right&quot; onClick={this.handleArrowFun.bind(this, 1)}/&gt; &lt;/div&gt; : null } &lt;/div&gt; : null } &lt;/div&gt; ); } } export default Slide; × Search results Close "},"component_common_public_TextArea.jsx.html":{"id":"component_common_public_TextArea.jsx.html","title":"Source: component/common/public/TextArea.jsx","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Source: component/common/public/TextArea.jsx import React from 'react'; /** * TextArea 备注框 * @param {number} width - 宽. * @param {number} height - 高. * @param {number} totalNum - 控制字数. * @param {string} defaultValue - 默认填写内容. * @param {string} placeholder - placeholder. * @desc 备注框 * @example &lt;TextArea width={587} height={131} totalNum={2000} ref=&quot;textArea&quot; defaultValue={this.props.result.deliveryResults} placeholder=&quot;请详细描述您的执行结果！（1-2000字之间） 详细的描述执行结果能够让买家更清晰的了解您的执行结果，提高与买家之间的沟通效率。&quot; /&gt; */ class TextArea extends React.Component { constructor(props) { super(props); this.state = { totalNumNow: props.defaultValue.length }; } componentDidMount() { } render() { let {placeholder, width, height, totalNum, defaultValue} = this.props; let {totalNumNow} = this.state; return ( &lt;div className=&quot;textArea fl&quot;&gt; &lt;textarea placeholder={placeholder} style={{width: width, height: height}} maxLength={totalNum} ref=&quot;textArea&quot; defaultValue={defaultValue} onInput={(e) =&gt; { let val = e.target.value; this.setState({ totalNumNow: val.length }); }} /&gt; &lt;div className=&quot;totalNum&quot;&gt; {totalNumNow}/{totalNum} &lt;/div&gt; &lt;/div&gt; ); } } export default TextArea; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Global Members &lt;constant&gt; loading 加载提示 Source: public/js/layer.js, line 5 Methods asterisk(num) 星号生成 Parameters: Name Type Description num number 需要几个星号 Source: public/js/utils.js, line 162 cookieDel(nameArray, opt) 批量删除cookie Parameters: Name Type Description nameArray Array 被删除的cookie 名称 数组 opt object 被删除的cookie 参数 Source: public/js/utils.js, line 378 dataURLtoBlob(dataUrl) Base64-&gt;Blob Parameters: Name Type Description dataUrl Object Base64 图片数据 Source: public/js/utils.js, line 389 Returns: 返回Blob图片地址 Type string delHtmlTag(str) html -&gt; txt Parameters: Name Type Description str string html字符串 Source: public/js/utils.js, line 402 Returns: 返回纯文本 Type string documentTitle(arr) 页面title Parameters: Name Type Description arr string/Array 需要设置的标题 Source: public/js/utils.js, line 113 getBytesCount(str) 统计中英文数量 Parameters: Name Type Description str string 统计的字符串 1个汉字 等于两个字母 Source: public/js/utils.js, line 39 Returns: 统计的数量 Type number getGoodNum(g, m, b) 好评率 Parameters: Name Type Description g number 好评数量 m number 中评数量 b number 差评数量 Source: public/js/utils.js, line 222 getPageOn() 获取分页数值 pageOn Source: public/js/utils.js, line 408 inputNum(e) 只能输入数字 替换后 光标在原来位置 Parameters: Name Type Description e object 传进来的字符串 Source: public/js/utils.js, line 127 isCardId(str) 验证身份证 Parameters: Name Type Description str string 传进来的字符串 Source: public/js/utils.js, line 81 isMobile(val) 判断是否是手机号 Parameters: Name Type Description val string 传进来的字符串 Source: public/js/utils.js, line 93 isPhone() 判断是手机端还是电脑端 Source: public/js/utils.js, line 70 loginReturnUrl() 登录后跳转 Source: public/js/utils.js, line 31 msg() 消息框 Source: public/js/layer.js, line 24 priceCents(val) 价格转成 分 Parameters: Name Type Description val string/number 格式化价格 Source: public/js/utils.js, line 345 priceIsOk(price) 判断价格是否合法 Parameters: Name Type Description price string 传进来的价格 Source: public/js/utils.js, line 101 priceOnBlur(e) 价格表单离开 Parameters: Name Type Description e object 格式化价格 Source: public/js/utils.js, line 304 priceOnKeyUp(e) 价格控制 Parameters: Name Type Description e object 格式化价格 Source: public/js/utils.js, line 276 redirect(address) 跳转 Parameters: Name Type Description address string 跳转地址 Source: public/js/utils.js, line 25 showImg(url, width, height, key) 防盗链iframe Parameters: Name Type Description url string 传进去url width string 宽度 height string 高度 key string 可变ID Source: public/js/utils.js, line 368 strURLReplace(str) 替换字符串中的URL Parameters: Name Type Description str string 传进来的字符串 Source: public/js/utils.js, line 145 timeBefore(now, time) 几天前 Parameters: Name Type Description now string 当前时间戳 time string 需要算的时间戳 Source: public/js/utils.js, line 235 toDecimal2(x) 个人账户 Parameters: Name Type Description x number 价格 Source: public/js/utils.js, line 199 toFixedNumPriceOne(num, start) 转价格 Parameters: Name Type Description num string/object 价格 start number 开始位置 Source: public/js/utils.js, line 174 toFixedNumPriceTwo(num) 保留两位价格 Parameters: Name Type Description num string 价格 Source: public/js/utils.js, line 189 txtIntercept(str, num) 截取长度 Parameters: Name Type Description str string 被截取的字符串 num number 需要截取的长度 Source: public/js/utils.js, line 60 Returns: 统计的数量 Type string urlParam(name [, url]) 截取URL参数 Parameters: Name Type Argument Description name string 截取的key url string &lt;optional&gt; 被截取的url Source: public/js/utils.js, line 10 Returns: 截取的val Type string × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Classes Classes DefaultImage DropDown IcoArrow ImageCrop Page PriceFormat Slide TextArea × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) 品推宝WEB前端JS/JSX文档说明本当分两大类: Classes 为公用react组件文档 Global 为公用js方法文档 文档生成命令$ npm run jsdoc × Search results Close "},"DefaultImage.html":{"id":"DefaultImage.html","title":"Class: DefaultImage","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Class: DefaultImage DefaultImage DefaultImage 组件,统一处理图片加滚动加载 new DefaultImage(src, alt, DefaultImageClassName) 头像图片处理 Parameters: Name Type Description src string 图片地址. alt string 图片描述. DefaultImageClassName string 图片className css样式名称. Source: component/common/public/DefaultImage.jsx, line 14 Example &lt;DefaultImage src={serviceInfoImg} alt={serviceInfo.serviceName} DefaultImageClassName=&quot;ico-default-user&quot;/&gt; × Search results Close "},"DropDown.html":{"id":"DropDown.html","title":"Class: DropDown","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Class: DropDown DropDown DropDown 下拉组件 new DropDown(title, data, onclick) 下拉组件 Parameters: Name Type Description title string 组件文字描述. data Object 传入数据. Properties Name Type Description id number 数字id . select Array 选择item . onclick fun 回调 . Source: component/common/public/DropDown.jsx, line 28 Example &lt;DropDown title=&quot;发布状态&quot; data={state.searchTypeList} onclick={(id) =&gt; { let searchTypeList = state.searchTypeList; searchTypeList.id = id; this.setState({ searchTypeList, start: 0, }, () =&gt; { this.getMyServiceList() }) }} /&gt; × Search results Close "},"IcoArrow.html":{"id":"IcoArrow.html","title":"Class: IcoArrow","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Class: IcoArrow IcoArrow new IcoArrow(props) 倒三角 Parameters: Name Type Description props Object 组件属性. Properties Name Type Argument Description show boolean false 向下,true向上 className string &lt;optional&gt; 是否有指定样式 classNameOn string &lt;optional&gt; 是否是主题色 Source: component/common/public/IcoArrow.jsx, line 16 Example &lt;IcoArrow show={Boolean} className=&quot;string&quot; classNameOn=&quot;string&quot;/&gt; × Search results Close "},"ImageCrop.html":{"id":"ImageCrop.html","title":"Class: ImageCrop","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Class: ImageCrop ImageCrop ImageCrop 图片裁剪 new ImageCrop(ref, imgData, api [, data], size, uploadPic) 图片裁剪 Parameters: Name Type Argument Description ref string 组件唯一标识,用于执行组件show(). imgData string 图片地址. api string 上传接口. data Object &lt;optional&gt; 上传接口的其他参数. Properties Name Type Argument Description type string &lt;optional&gt; 类型. size Object 图片大小限制. Properties Name Type Description num number 大小. text string 提示文字. uploadPic function 图片上传方法,再组件写好回调. Source: component/common/public/ImageCrop.jsx, line 31 Example &lt;ImageCrop ref=&quot;ImageCrop&quot; imgData={state.userImage} api={apiManager.uploadPortrait} data={{type: 1}} size={{num: 1000 * 1000, text: '1M'}} uploadPic={this.uploadPic.bind(this)} /&gt; × Search results Close "},"Page.html":{"id":"Page.html","title":"Class: Page","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Class: Page Page Page 分页组件 new Page(totalNum, pageSize, start, onPageClick) 分页组件 Parameters: Name Type Description totalNum number 总条数. pageSize number 每页显示几条数据. start number 开始数. onPageClick function 分页方法(父组件中写好). Source: component/common/public/Page.jsx, line 20 Example { state.totalNum &gt; state.pageSize ? &lt;Page totalNum={state.totalNum} pageSize={state.pageSize} start={state.start} onPageClick={this.onPageClick.bind(this)}/&gt; : null } × Search results Close "},"PriceFormat.html":{"id":"PriceFormat.html","title":"Class: PriceFormat","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Class: PriceFormat PriceFormat new PriceFormat(props) 价格 Parameters: Name Type Description props object 组件属性. Properties Name Type Description data object 组件属性传递过来的对象. Properties Name Type Description type number 价格类型1 可议价,2 ¥1.40万元起 or ¥2.00元－¥10.00元,3 ¥2.00元. minPrice number 最小价格. maxPrice number 最大价格. position string 组件放置位置&quot;list&quot;列表页 显示如 ¥1.40万元起,&quot;detail&quot;详情页 显示如 ¥2.00元－¥10.00元 . Source: component/common/public/PriceFormat.jsx, line 29 Example &lt;PriceFormat data={{ type:prepayType, min:minPrice, max:maxPrice, position:'detail' }}/&gt; 示列:生成后的元素对照表 &lt;span class=&quot;prefix&quot;&gt;¥&lt;/span&gt; &lt;span class=&quot;dollars&quot;&gt;元&lt;/span&gt; &lt;span class=&quot;tenThousand&quot;&gt;万&lt;/span&gt; &lt;span class=&quot;rise&quot;&gt;起&lt;/span&gt; × Search results Close "},"Slide.html":{"id":"Slide.html","title":"Class: Slide","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Class: Slide Slide Slide 轮播图 new Slide(data) 轮播图 Parameters: Name Type Description data object 图片对象. Properties Name Type Description width number 宽度. height number 高度. img Array 图片数组. time number 切换时间. Source: component/common/public/Slide.jsx, line 21 Example &lt;Slide data={{ width: 653, height: 422, img: this.state.bannerImg, time: 5000, }} /&gt; × Search results Close "},"TextArea.html":{"id":"TextArea.html","title":"Class: TextArea","body":" 品推宝 Classes DefaultImage (头像图片处理)DropDown (下拉组件)IcoArrow (倒三角)ImageCrop (图片裁剪)Page (分页组件)PriceFormat (价格)Slide (轮播图)TextArea (备注框) Global asterisk (星号生成)cookieDel (批量删除cookie)dataURLtoBlob (Base64-&gt;Blob)delHtmlTag (html -&gt; txt)documentTitle (页面title)getBytesCount (统计中英文数量)getGoodNum (好评率)getPageOn (获取分页数值 pageOn)inputNum (只能输入数字 替换后 光标在原来位置)isCardId (验证身份证)isMobile (判断是否是手机号)isPhone (判断是手机端还是电脑端)loading (加载提示)loginReturnUrl (登录后跳转)msg (消息框)priceCents (价格转成 分)priceIsOk (判断价格是否合法)priceOnBlur (价格表单离开)priceOnKeyUp (价格控制)redirect (跳转)showImg (防盗链iframe)strURLReplace (替换字符串中的URL)timeBefore (几天前)toDecimal2 (个人账户)toFixedNumPriceOne (转价格)toFixedNumPriceTwo (保留两位价格)txtIntercept (截取长度)urlParam (截取URL参数) Class: TextArea TextArea TextArea 备注框 new TextArea(width, height, totalNum, defaultValue, placeholder) 备注框 Parameters: Name Type Description width number 宽. height number 高. totalNum number 控制字数. defaultValue string 默认填写内容. placeholder string placeholder. Source: component/common/public/TextArea.jsx, line 17 Example &lt;TextArea width={587} height={131} totalNum={2000} ref=&quot;textArea&quot; defaultValue={this.props.result.deliveryResults} placeholder=&quot;请详细描述您的执行结果！（1-2000字之间） 详细的描述执行结果能够让买家更清晰的了解您的执行结果，提高与买家之间的沟通效率。&quot; /&gt; × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
